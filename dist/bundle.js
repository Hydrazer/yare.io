(()=>{var p=Math.pow;function i(o,s){return p(o[0]-s[0],2)+p(o[1]-s[1],2)}{let o=i(base.position,star_zxq.position),s=i(base.position,star_a1c.position);o<s?memory.base_star=star_zxq:memory.base_star=star_a1c,all_spirits=[];for(x of Object.keys(spirits))all_spirits.push(spirits[x]);enemy_spirits=all_spirits.filter(e=>e.hp==1).filter(e=>e.player_id!="saltAxAtlas"),friendly_spirits=all_spirits.filter(e=>e.hp==1).filter(e=>e.player_id=="saltAxAtlas");let r=0,u=friendly_spirits.length;if(r==0){if(u==2){for(unit of friendly_spirits)if(unit.shout("Only 2!"),(memory[unit.id]=="outpost_harvesting"||memory[unit.id]=="outpost_charging"||memory[unit.id]=="harass")&&(memory[unit.id]="base_harvesting"),unit.energy==unit.energy_capacity?memory[unit.id]="base_charging":unit.energy==0&&(memory[unit.id]="base_harvesting"),memory[unit.id]=="base_charging"){if(4e4<i(unit.position,base.position)){unit.move(base.position);continue}unit.energize(base)}else if(memory[unit.id]=="base_harvesting"){if(4e4<i(unit.position,star_zxq.position)){unit.move(star_zxq.position);continue}unit.energize(unit)}else if(memory[unit.id]=="outpost_charging"){if(4e4<i(unit.position,outpost.position)){unit.move(outpost.position);continue}unit.energize(outpost)}else if(memory[unit.id]=="outpost_harvesting"){if(4e4<i(unit.position,star_p89.position)){unit.move(star_p89.position);continue}unit.energize(unit)}}else if(u>2){let e=0,a=Math.floor(u/2);outpost.control!="saltAxAtlas"&&outpost.control!=""&&(a=u-1);for(unit of friendly_spirits){if(e==0?(memory[unit.id]!="kill_enemy_base"&&(memory[unit.id]=="outpost_harvesting"&&unit.energy!=unit.energy_capacity?memory[unit.id]="outpost_harvesting":unit.energy>0?memory[unit.id]="harass":memory[unit.id]="outpost_harvesting"),e=1):e!=0&&a>0?((memory[unit.id]=="outpost_defender"||memory[unit.id]=="outpost_charging"||memory[unit.id]=="outpost_harvesting")&&(memory[unit.id]="base_harvesting"),base.sight.enemies.length>0&&unit.energy>0?memory[unit.id]="base_defender":(memory[unit.id]=="base_defender"&&(memory[unit.id]="base_harvesting"),unit.energy==unit.energy_capacity?memory[unit.id]="base_charging":unit.energy==0&&(memory[unit.id]="base_harvesting")),a-=1):((memory[unit.id]=="outpost_defender"||memory[unit.id]=="base_defender"||memory[unit.id]=="base_charging"||memory[unit.id]=="base_harvesting")&&(memory[unit.id]="outpost_harvesting"),unit.energy>0?memory[unit.id]="outpost_charging":unit.energy==0&&(memory[unit.id]="outpost_harvesting")),memory[unit.id]=="kill_enemy_base")if(enemy_base.energy>unit.energy)memory[unit.id]="harass";else{unit.shout("Juicy Base!");let t=i(unit.position,enemy_base.position);if(4e4<t){unit.move(enemy_base.position);continue}unit.energize(enemy_base)}if(memory[unit.id]=="harass"){let t=unit.sight.enemies.length;if(t>0){unit.shout("I C U!");let n=spirits[unit.sight.enemies[0]],m=i(unit.position,n.position);if(t>=5){unit.move(outpost.position);continue}else if(4e4<m&&unit.energy>n.energy){unit.move(n.position),unit.energize(n);continue}else if(4e4<m&&unit.energy<n.energy){unit.move(star_p89.position),unit.energize(unit);continue}else if(m<4e4){unit.energize(n);continue}else{unit.move(star_p89.position),unit.energize(unit);continue}}else 1e5<i(unit.position,enemy_base.position)?(unit.shout("hehe"),unit.move(enemy_base.position)):(unit.shout("hehe"),unit.move(outpost.position))}else if(memory[unit.id]=="outpost_charging"){if(unit.shout("Charge Outpost"),4e4<i(unit.position,outpost.position)){unit.move(outpost.position);continue}unit.energize(outpost)}else if(memory[unit.id]=="outpost_harvesting"){if(unit.shout("Harvest Outpost"),4e4<i(unit.position,star_p89.position)){unit.move(star_p89.position);continue}unit.energize(unit)}else if(memory[unit.id]=="base_defender"){unit.shout("Defend Base");let t=spirits[base.sight.enemies[0]],n=i(unit.position,t.position);if(4e4<n){unit.move(t.position);continue}unit.energize(t)}else if(memory[unit.id]=="base_charging"){if(unit.shout("Charge Base"),4e4<i(unit.position,base.position)){unit.move(base.position);continue}unit.energize(base)}else if(memory[unit.id]=="base_harvesting"){if(unit.shout("Harvest Base"),4e4<i(unit.position,star_zxq.position)){unit.move(star_zxq.position);continue}unit.energize(unit)}}}else for(unit of friendly_spirits)if(unit.shout("We LOST!"),unit.energy==unit.energy_capacity?memory[unit.id]="base_charging":unit.energy==0&&(memory[unit.id]="base_harvesting"),memory[unit.id]=="base_charging"){if(4e4<i(unit.position,base.position)){unit.move(base.position);continue}unit.energize(base)}else if(memory[unit.id]=="base_harvesting"){if(4e4<i(unit.position,star_zxq.position)){unit.move(star_zxq.position);continue}unit.energize(unit)}}else if(r==1){for(unit of friendly_spirits)if(unit.energy==unit.energy_capacity?memory[unit.id]="killing":memory[unit.id]!="killing"&&(memory[unit.id]="harvesting"),memory[unit.id]=="killing"){if(unit.shout("CHARGE!"),4e4<i(unit.position,outpost.position)){unit.move(outpost.position);continue}unit.energize(outpost)}else if(memory[unit.id]=="harvesting"){if(unit.shout("Charging!"),4e4<i(unit.position,star_zxq.position)){unit.move(star_zxq.position);continue}unit.energize(unit)}}else if(r==2){for(unit of friendly_spirits)if(unit.energy==unit.energy_capacity?memory[unit.id]="killing":memory[unit.id]!="killing"&&(memory[unit.id]="harvesting"),memory[unit.id]=="killing"){if(unit.shout("Nuke Incoming!"),4e4<i(unit.position,enemy_base.position)){unit.move(enemy_base.position);continue}unit.energize(enemy_base)}else if(memory[unit.id]=="harvesting"){if(unit.shout("Chargin UP!"),4e4<i(unit.position,star_p89.position)){i(base.position,star_zxq.position)<i(base.position,star_a1c.position)?unit.move(star_zxq.position):unit.move(star_p89.position);continue}unit.energize(unit)}}else for(unit of friendly_spirits)unit.shout("WTF! 0 or 1 or 2")}})();
